<!-- ðŸ“„ index.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NutriTrack AI - Smart Nutrition Tracking</title>
    
    <!-- Favicon and App Icons -->
    <link rel="icon" type="image/svg+xml" href="/favicon.svg">
    <link rel="icon" type="image/png" href="/icon.svg">
    <link rel="apple-touch-icon" href="/icon.svg">
    <link rel="manifest" href="/manifest.json">
    
    <!-- Meta Tags for SEO and Social Sharing -->
    <meta name="description" content="Smart nutrition tracking powered by AI. Track calories, protein, and macros with ease.">
    <meta name="keywords" content="nutrition, tracking, calories, protein, health, fitness, AI">
    <meta name="author" content="NutriTrack AI">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="NutriTrack AI - Smart Nutrition Tracking">
    <meta property="og:description" content="Track your nutrition effortlessly with AI-powered food recognition and comprehensive analytics.">
    <meta property="og:image" content="/icon.svg">
    <meta property="og:type" content="website">
    
    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="NutriTrack AI">
    <meta name="twitter:description" content="Smart nutrition tracking powered by AI">
    <meta name="twitter:image" content="/icon.svg">
    
    <!-- Theme Color -->
    <meta name="theme-color" content="#6366f1">

    <link rel="stylesheet" href="style.css">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Icon Library (Lucide Icons) -->
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    <!-- Chart.js for Analytics -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div class="app-container">
        <!-- Intro/Landing Page (shown when not signed in) -->
        <div id="intro-page" class="intro-page">
            <header class="intro-header">
                <div class="container">
                    <div class="intro-logo">
                        <i data-lucide="gem"></i>
                        <h1>NutriTrack AI</h1>
                    </div>
                    <div class="intro-nav">
                        <button id="intro-signin-btn" class="btn-text">Sign In</button>
                    </div>
                </div>
            </header>

            <main class="intro-main">
                <div class="container">
                    <div class="hero-section">
                        <div class="hero-content">
                            <h1 class="hero-title">Track Your Nutrition with AI-Powered Precision</h1>
                            <p class="hero-subtitle">Simply snap a photo of your meal and let our AI identify and track your calories, protein, and macros automatically. Reach your health goals faster than ever.</p>
                            
                            <div class="hero-features">
                                <div class="feature-item">
                                    <i data-lucide="camera"></i>
                                    <span>Photo Recognition</span>
                                </div>
                                <div class="feature-item">
                                    <i data-lucide="bar-chart-3"></i>
                                    <span>Smart Analytics</span>
                                </div>
                                <div class="feature-item">
                                    <i data-lucide="target"></i>
                                    <span>Goal Tracking</span>
                                </div>
                            </div>

                            <div class="hero-actions">
                                <button id="hero-signup-btn" class="btn btn-primary-large">
                                    Get Started Free
                                </button>
                                <button id="hero-signin-btn" class="btn btn-secondary-large">
                                    Sign In
                                </button>
                            </div>

                            <p class="hero-note">No credit card required â€¢ Start tracking in seconds</p>
                        </div>
                        
                        <div class="hero-image">
                            <div class="app-preview">
                                <div class="preview-screen">
                                    <div class="preview-header">
                                        <div class="preview-stats">
                                            <div class="stat-circle">
                                                <span>1,847</span>
                                                <small>calories</small>
                                            </div>
                                            <div class="stat-circle">
                                                <span>95g</span>
                                                <small>protein</small>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="preview-meals">
                                        <div class="meal-preview">
                                            <i data-lucide="sunrise"></i>
                                            <span>Breakfast - 420 kcal</span>
                                        </div>
                                        <div class="meal-preview">
                                            <i data-lucide="sun"></i>
                                            <span>Lunch - 685 kcal</span>
                                        </div>
                                        <div class="meal-preview">
                                            <i data-lucide="sunset"></i>
                                            <span>Dinner - 742 kcal</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>

        <!-- Main App (shown when signed in) -->
        <div id="main-app" class="main-app hidden">
            <!-- Sidebar Navigation -->
            <aside class="sidebar">
                <div class="sidebar-header">
                    <div class="sidebar-logo">
                        <i data-lucide="gem"></i>
                        <span>NutriTrack AI</span>
                    </div>
                </div>
                
                <nav class="sidebar-nav">
                    <button class="sidebar-item active" id="sidebar-dashboard">
                        <i data-lucide="home"></i>
                        <span>Dashboard</span>
                    </button>
                    <button class="sidebar-item" id="sidebar-analytics">
                        <i data-lucide="bar-chart-3"></i>
                        <span>Analytics</span>
                    </button>
                    <button class="sidebar-item" id="sidebar-body-metrics">
                        <i data-lucide="activity"></i>
                        <span>Body Metrics</span>
                    </button>
                    <button class="sidebar-item" id="sidebar-goals">
                        <i data-lucide="target"></i>
                        <span>Goals & Targets</span>
                    </button>
                    <button class="sidebar-item" id="sidebar-ai-insights">
                        <i data-lucide="brain"></i>
                        <span>AI Insights</span>
                    </button>
                    <button class="sidebar-item" id="sidebar-history">
                        <i data-lucide="calendar"></i>
                        <span>History</span>
                    </button>
                    <button class="sidebar-item" id="sidebar-profile">
                        <i data-lucide="user"></i>
                        <span>Profile</span>
                    </button>
                    <button class="sidebar-item sidebar-signout" id="sidebar-signout">
                        <i data-lucide="log-out"></i>
                        <span>Sign Out</span>
                    </button>
                </nav>

                <div class="sidebar-footer">
                    <div class="user-info-sidebar">
                        <div class="user-avatar-sidebar">
                            <span id="user-initial-sidebar" class="user-initial-sidebar"></span>
                        </div>
                        <div class="user-details-sidebar">
                            <div class="user-name-sidebar" id="user-name-sidebar">User</div>
                            <div class="user-email-sidebar" id="user-email-sidebar"></div>
                        </div>
                    </div>
                </div>
            </aside>

            <!-- Main Content Area -->
            <div class="main-content">
                <header class="main-header">
                    <div class="header-content">
                        <button class="menu-button" id="menu-button">
                            <i data-lucide="menu"></i>
                        </button>
                        <h1 id="page-title">Dashboard</h1>
                    </div>
                </header>

                <!-- Dashboard Content -->
                <div class="content-area" id="dashboard-content" style="display: block;">
                    <section id="summary" class="summary-section">
                        <div class="section-header">
                            <h2>Today's Progress</h2>
                            <button class="btn btn-secondary edit-goals-btn" id="edit-goals-btn">
                                <i data-lucide="target"></i>
                                Edit Goals
                            </button>
                        </div>
                        <div class="progress-grid">
                            <div class="progress-card">
                                <svg class="progress-ring" viewBox="0 0 120 120">
                                    <circle class="progress-ring-bg" cx="60" cy="60" r="54" />
                                    <circle id="calorie-ring" class="progress-ring-circle calories" cx="60" cy="60" r="54"/>
                                </svg>
                                <div class="progress-text">
                                    <span class="value" id="total-calories">0</span>
                                    <span class="label">/ <span id="calorie-goal-display">2000</span> kcal</span>
                                </div>
                            </div>
                            <div class="progress-card">
                                <svg class="progress-ring" viewBox="0 0 120 120">
                                    <circle class="progress-ring-bg" cx="60" cy="60" r="54" />
                                    <circle id="protein-ring" class="progress-ring-circle protein" cx="60" cy="60" r="54"/>
                                </svg>
                                <div class="progress-text">
                                    <span class="value" id="total-protein">0</span>
                                    <span class="label">/ <span id="protein-goal-display">120</span>g Protein</span>
                                </div>
                            </div>
                        </div>
                    </section>

                    <section id="meal-logging" class="meal-logging-section">
    <h2>Your Meals</h2>
    <div class="meal-accordion">
        <div class="meal-card" id="breakfast">
            <div class="meal-card-header">
                <div class="meal-title">
                    <i data-lucide="sunrise"></i>
                    <span>Breakfast</span>
                </div>
                <div class="meal-header-actions">
                    <span class="meal-card-calories" id="breakfast-calories">0 kcal</span>
                    <button class="add-meal-item-btn" data-meal="breakfast" title="Add to Breakfast">
                        Add
                    </button>
                    <button class="meal-delete-btn" data-meal="breakfast" title="Clear all breakfast items">
                        <i data-lucide="trash-2"></i>
                    </button>
                </div>
            </div>
            <div class="meal-card-body">
                <ul class="meal-list" id="breakfast-list"></ul>
            </div>
        </div>
        <div class="meal-card" id="lunch">
            <div class="meal-card-header">
                 <div class="meal-title">
                    <i data-lucide="sun"></i>
                    <span>Lunch</span>
                </div>
                <div class="meal-header-actions">
                    <span class="meal-card-calories" id="lunch-calories">0 kcal</span>
                    <button class="add-meal-item-btn" data-meal="lunch" title="Add to Lunch">
                        Add
                    </button>
                    <button class="meal-delete-btn" data-meal="lunch" title="Clear all lunch items">
                        <i data-lucide="trash-2"></i>
                    </button>
                </div>
            </div>
            <div class="meal-card-body">
                <ul class="meal-list" id="lunch-list"></ul>
            </div>
        </div>
        <div class="meal-card" id="dinner">
            <div class="meal-card-header">
                <div class="meal-title">
                    <i data-lucide="sunset"></i>
                    <span>Dinner</span>
                </div>
                <div class="meal-header-actions">
                    <span class="meal-card-calories" id="dinner-calories">0 kcal</span>
                    <button class="add-meal-item-btn" data-meal="dinner" title="Add to Dinner">
                        Add
                    </button>
                    <button class="meal-delete-btn" data-meal="dinner" title="Clear all dinner items">
                        <i data-lucide="trash-2"></i>
                    </button>
                </div>
            </div>
            <div class="meal-card-body">
                <ul class="meal-list" id="dinner-list"></ul>
            </div>
        </div>
        <div class="meal-card" id="snacks">
            <div class="meal-card-header">
                <div class="meal-title">
                    <i data-lucide="cookie"></i>
                    <span>Snacks</span>
                </div>
                <div class="meal-header-actions">
                    <span class="meal-card-calories" id="snacks-calories">0 kcal</span>
                    <button class="add-meal-item-btn" data-meal="snacks" title="Add to Snacks">
                        Add
                    </button>
                    <button class="meal-delete-btn" data-meal="snacks" title="Clear all snacks">
                        <i data-lucide="trash-2"></i>
                    </button>
                </div>
            </div>
            <div class="meal-card-body">
                <ul class="meal-list" id="snacks-list"></ul>
            </div>
        </div>
    </div>
</section>
                </div>

            <!-- Analytics Content (hidden by default) -->
            <div class="content-area " id="analytics-content" style="display: none;">
                <section class="analytics-section">
                    <div class="analytics-header">
                        <h2>Nutrition Analytics</h2>
                        <div class="time-frame-selector">
                            <button class="time-btn active" data-timeframe="daily">Daily</button>
                            <button class="time-btn" data-timeframe="weekly">Weekly</button>
                            <button class="time-btn" data-timeframe="monthly">Monthly</button>
                            <button class="time-btn" data-timeframe="yearly">Yearly</button>
                        </div>
                    </div>
                    
                    <!-- Daily Analytics View -->
                    <div class="analytics-view active" id="daily-analytics">
                        <div class="analytics-grid">
                            <div class="metric-card">
                                <div class="metric-header">
                                    <h3>Today's Nutrition</h3>
                                    <span class="metric-date" id="daily-date"></span>
                                </div>
                                <div class="metric-stats">
                                    <div class="stat-row">
                                        <span class="stat-label">Calories</span>
                                        <div class="stat-bar">
                                            <div class="progress-bar" id="daily-calories-bar"></div>
                                            <span class="stat-value" id="daily-calories">0 / 2800</span>
                                        </div>
                                    </div>
                                    <div class="stat-row">
                                        <span class="stat-label">Protein</span>
                                        <div class="stat-bar">
                                            <div class="progress-bar" id="daily-protein-bar"></div>
                                            <span class="stat-value" id="daily-protein">0g / 120g</span>
                                        </div>
                                    </div>
                                    <div class="stat-row">
                                        <span class="stat-label">Carbs</span>
                                        <div class="stat-bar">
                                            <div class="progress-bar" id="daily-carbs-bar"></div>
                                            <span class="stat-value" id="daily-carbs">0g</span>
                                        </div>
                                    </div>
                                    <div class="stat-row">
                                        <span class="stat-label">Fats</span>
                                        <div class="stat-bar">
                                            <div class="progress-bar" id="daily-fats-bar"></div>
                                            <span class="stat-value" id="daily-fats">0g</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="metric-card">
                                <h3>Meal Distribution</h3>
                                <div class="meal-breakdown">
                                    <div class="meal-item">
                                        <span class="meal-name">Breakfast</span>
                                        <span class="meal-calories" id="analytics-breakfast-calories">0 kcal</span>
                                        <div class="meal-progress">
                                            <div class="meal-bar" id="breakfast-bar"></div>
                                        </div>
                                    </div>
                                    <div class="meal-item">
                                        <span class="meal-name">Lunch</span>
                                        <span class="meal-calories" id="analytics-lunch-calories">0 kcal</span>
                                        <div class="meal-progress">
                                            <div class="meal-bar" id="lunch-bar"></div>
                                        </div>
                                    </div>
                                    <div class="meal-item">
                                        <span class="meal-name">Dinner</span>
                                        <span class="meal-calories" id="analytics-dinner-calories">0 kcal</span>
                                        <div class="meal-progress">
                                            <div class="meal-bar" id="dinner-bar"></div>
                                        </div>
                                    </div>
                                    <div class="meal-item">
                                        <span class="meal-name">Snacks</span>
                                        <span class="meal-calories" id="analytics-snacks-calories">0 kcal</span>
                                        <div class="meal-progress">
                                            <div class="meal-bar" id="snacks-bar"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="metric-card">
                                <h3>Food Variety</h3>
                                <div class="variety-stats">
                                    <div class="variety-item">
                                        <span class="variety-label">Unique Foods</span>
                                        <span class="variety-value" id="daily-unique-foods">0</span>
                                    </div>
                                    <div class="variety-item">
                                        <span class="variety-label">Food Categories</span>
                                        <span class="variety-value" id="daily-categories">0</span>
                                    </div>
                                    <div class="variety-item">
                                        <span class="variety-label">Healthy Score</span>
                                        <span class="variety-value" id="daily-health-score">0%</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Weekly Analytics View -->
                    <div class="analytics-view" id="weekly-analytics">
                        <div class="analytics-grid">
                            <div class="metric-card wide">
                                <h3>7-Day Calorie Trend</h3>
                                <canvas id="weekly-calorie-chart"></canvas>
                            </div>
                            
                            <div class="metric-card">
                                <h3>Weekly Averages</h3>
                                <div class="avg-stats">
                                    <div class="avg-item">
                                        <span class="avg-value" id="weekly-avg-calories">0</span>
                                        <span class="avg-label">Avg Calories/Day</span>
                                    </div>
                                    <div class="avg-item">
                                        <span class="avg-value" id="weekly-avg-protein">0g</span>
                                        <span class="avg-label">Avg Protein/Day</span>
                                    </div>
                                    <div class="avg-item">
                                        <span class="avg-value" id="weekly-consistency">0%</span>
                                        <span class="avg-label">Goal Consistency</span>
                                    </div>
                                    <div class="avg-item">
                                        <span class="avg-value" id="weekly-variety">0</span>
                                        <span class="avg-label">Food Variety Index</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="metric-card">
                                <h3>Macro Distribution</h3>
                                <canvas id="weekly-macro-chart"></canvas>
                            </div>
                            
                            <div class="metric-card">
                                <h3>Goal Achievement</h3>
                                <div class="goal-stats">
                                    <div class="goal-item">
                                        <span class="goal-label">Days on Track</span>
                                        <span class="goal-value" id="weekly-days-track">0/7</span>
                                    </div>
                                    <div class="goal-item">
                                        <span class="goal-label">Best Day</span>
                                        <span class="goal-value" id="weekly-best-day">-</span>
                                    </div>
                                    <div class="goal-item">
                                        <span class="goal-label">Improvement</span>
                                        <span class="goal-value" id="weekly-improvement">0%</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Monthly Analytics View -->
                    <div class="analytics-view" id="monthly-analytics">
                        <div class="analytics-grid">
                            <div class="metric-card wide">
                                <h3>30-Day Progress</h3>
                                <canvas id="monthly-progress-chart"></canvas>
                            </div>
                            
                            <div class="metric-card">
                                <h3>Monthly Summary</h3>
                                <div class="monthly-stats">
                                    <div class="monthly-item">
                                        <span class="monthly-value" id="monthly-avg-calories">0</span>
                                        <span class="monthly-label">Daily Average</span>
                                    </div>
                                    <div class="monthly-item">
                                        <span class="monthly-value" id="monthly-total-days">0</span>
                                        <span class="monthly-label">Days Logged</span>
                                    </div>
                                    <div class="monthly-item">
                                        <span class="monthly-value" id="monthly-streak">0</span>
                                        <span class="monthly-label">Longest Streak</span>
                                    </div>
                                    <div class="monthly-item">
                                        <span class="monthly-value" id="monthly-goal-rate">0%</span>
                                        <span class="monthly-label">Goal Achievement</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="metric-card">
                                <h3>Food Categories</h3>
                                <canvas id="monthly-categories-chart"></canvas>
                            </div>
                            
                            <div class="metric-card">
                                <h3>Health Insights</h3>
                                <div class="insights-list">
                                    <div class="insight-item">
                                        <span class="insight-icon">ðŸŽ¯</span>
                                        <span class="insight-text" id="insight-1">Loading insights...</span>
                                    </div>
                                    <div class="insight-item">
                                        <span class="insight-icon">ðŸ“ˆ</span>
                                        <span class="insight-text" id="insight-2">Analyzing trends...</span>
                                    </div>
                                    <div class="insight-item">
                                        <span class="insight-icon">ðŸ¥—</span>
                                        <span class="insight-text" id="insight-3">Reviewing nutrition...</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Yearly Analytics View -->
                    <div class="analytics-view" id="yearly-analytics">
                        <div class="analytics-grid">
                            <div class="metric-card full-width">
                                <h3>Year Overview</h3>
                                <canvas id="yearly-overview-chart"></canvas>
                            </div>
                            
                            <div class="metric-card">
                                <h3>Yearly Totals</h3>
                                <div class="yearly-stats">
                                    <div class="yearly-item">
                                        <span class="yearly-value" id="yearly-days">0</span>
                                        <span class="yearly-label">Days Tracked</span>
                                    </div>
                                    <div class="yearly-item">
                                        <span class="yearly-value" id="yearly-foods">0</span>
                                        <span class="yearly-label">Unique Foods</span>
                                    </div>
                                    <div class="yearly-item">
                                        <span class="yearly-value" id="yearly-avg">0</span>
                                        <span class="yearly-label">Avg Calories/Day</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="metric-card">
                                <h3>Seasonal Patterns</h3>
                                <canvas id="yearly-seasonal-chart"></canvas>
                            </div>
                            
                            <div class="metric-card">
                                <h3>Long-term Trends</h3>
                                <div class="trends-list">
                                    <div class="trend-item">
                                        <span class="trend-label">Weight Management</span>
                                        <span class="trend-value" id="weight-trend">Stable</span>
                                    </div>
                                    <div class="trend-item">
                                        <span class="trend-label">Eating Consistency</span>
                                        <span class="trend-value" id="consistency-trend">Good</span>
                                    </div>
                                    <div class="trend-item">
                                        <span class="trend-label">Food Diversity</span>
                                        <span class="trend-value" id="diversity-trend">Improving</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="analytics-actions">
                        <button id="refresh-analytics-btn" class="btn btn-secondary">
                            <i data-lucide="refresh-cw"></i>
                            Refresh Data
                        </button>
                        <button id="export-data-btn" class="btn btn-secondary">
                            <i data-lucide="download"></i>
                            Export Data
                        </button>
                    </div>
                </section>
            </div>

            <!-- Profile Content -->
            <div class="content-area" id="profile-content" style="display: none;">
                <section class="profile-section">
                    <h2>Profile Settings</h2>
                    
                    <div class="profile-grid">
                        <!-- Profile Picture Card -->
                        <div class="profile-card profile-picture-card">
                            <h3>Profile Picture</h3>
                            <div class="profile-picture-section">
                                <div class="current-avatar">
                                    <img id="profile-avatar" src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iNTAiIGN5PSI1MCIgcj0iNTAiIGZpbGw9IiNmMGYwZjAiLz48Y2lyY2xlIGN4PSI1MCIgY3k9IjM3IiByPSIxNSIgZmlsbD0iIzk5OTk5OSIvPjxwYXRoIGQ9Ik0yMCA3NWMwLTE2LjU2OSAxMy40MzEtMzAgMzAtMzBzMzAgMTMuNDMxIDMwIDMwIiBmaWxsPSIjOTk5OTk5Ii8+PC9zdmc+" alt="Profile Picture" class="avatar-image">
                                    <div class="avatar-overlay">
                                        <i data-lucide="camera" class="camera-icon"></i>
                                        <span>Change Photo</span>
                                    </div>
                                </div>
                                <div class="avatar-actions">
                                    <input type="file" id="avatar-upload" accept="image/*" style="display: none;">
                                    <button id="upload-avatar-btn" class="btn btn-secondary">
                                        <i data-lucide="upload"></i> Upload Photo
                                    </button>
                                    <button id="remove-avatar-btn" class="btn btn-outline">
                                        <i data-lucide="trash-2"></i> Remove
                                    </button>
                                </div>
                            </div>
                        </div>

                        <!-- Personal Information Card -->
                        <div class="profile-card">
                            <h3>Personal Information</h3>
                            <form id="personal-info-form" class="profile-form">
                                <div class="form-row">
                                    <div class="input-group">
                                        <label for="profile-name">Full Name</label>
                                        <input type="text" id="profile-name" placeholder="Enter your full name">
                                    </div>
                                </div>
                                
                                <div class="form-row">
                                    <div class="input-group">
                                        <label for="profile-age">Age</label>
                                        <input type="number" id="profile-age" min="13" max="120" placeholder="25">
                                    </div>
                                </div>
                                
                                <div class="form-row">
                                    <div class="input-group">
                                        <label for="profile-gender">Gender</label>
                                        <select id="profile-gender">
                                            <option value="">Select Gender</option>
                                            <option value="male">Male</option>
                                            <option value="female">Female</option>
                                            <option value="other">Other</option>
                                            <option value="prefer-not-to-say">Prefer not to say</option>
                                        </select>
                                    </div>
                                </div>
                                
                                <div class="form-row">
                                    <div class="input-group">
                                        <label for="profile-location">Location (Optional)</label>
                                        <input type="text" id="profile-location" placeholder="City, Country">
                                    </div>
                                </div>
                            </form>
                        </div>

                        <!-- Account Settings Card -->
                        <div class="profile-card">
                            <h3>Account Settings</h3>
                            <div class="account-settings">
                                <div class="setting-item">
                                    <label>Email</label>
                                    <span id="account-email" class="setting-value">--</span>
                                </div>
                                <div class="setting-item">
                                    <label>Member Since</label>
                                    <span id="member-since" class="setting-value">--</span>
                                </div>
                                <div class="setting-actions">
                                    <button id="save-profile-btn" class="btn btn-primary">Save Changes</button>
                                    <button id="reset-profile-btn" class="btn btn-secondary">Reset to Default</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            </div>

            <!-- Body Metrics Content -->
            <div class="content-area" id="body-metrics-content" style="display: none;">
                <section class="body-metrics-section">
                    <div class="section-header">
                        <h2>Body Metrics & Measurements</h2>
                        <button class="btn btn-primary" id="add-measurement-btn">
                            <i data-lucide="plus"></i>
                            Add New Entry
                        </button>
                    </div>
                    
                    <div class="metrics-grid">
                        <!-- Current Stats Card -->
                        <div class="metric-card current-stats">
                            <h3>Current Statistics</h3>
                            <div class="stats-display">
                                <div class="stat-item">
                                    <div class="stat-value" id="current-weight">--</div>
                                    <div class="stat-label">Weight (kg)</div>
                                    <div class="stat-date" id="weight-date">Last updated: --</div>
                                </div>
                                <div class="stat-item">
                                    <div class="stat-value" id="current-height">--</div>
                                    <div class="stat-label">Height (cm)</div>
                                </div>
                                <div class="stat-item">
                                    <div class="stat-value" id="current-bmi">--</div>
                                    <div class="stat-label">BMI</div>
                                    <div class="stat-category" id="bmi-category">--</div>
                                </div>
                                <div class="stat-item">
                                    <div class="stat-value" id="current-body-fat">--</div>
                                    <div class="stat-label">Body Fat %</div>
                                </div>
                            </div>
                        </div>

                        <!-- Progress Chart Card -->
                        <div class="metric-card progress-chart">
                            <h3>Weight Progress</h3>
                            <canvas id="weight-progress-chart"></canvas>
                            <div class="progress-summary">
                                <div class="progress-item">
                                    <span class="progress-label">Change (30d)</span>
                                    <span class="progress-value" id="weight-change-30d">--</span>
                                </div>
                                <div class="progress-item">
                                    <span class="progress-label">Change (90d)</span>
                                    <span class="progress-value" id="weight-change-90d">--</span>
                                </div>
                            </div>
                        </div>

                        <!-- Body Measurements Card -->
                        <div class="metric-card body-measurements">
                            <h3>Body Measurements</h3>
                            <div class="measurements-grid">
                                <div class="measurement-item">
                                    <label>Chest</label>
                                    <span id="measurement-chest">-- cm</span>
                                </div>
                                <div class="measurement-item">
                                    <label>Waist</label>
                                    <span id="measurement-waist">-- cm</span>
                                </div>
                                <div class="measurement-item">
                                    <label>Hips</label>
                                    <span id="measurement-hips">-- cm</span>
                                </div>
                                <div class="measurement-item">
                                    <label>Arms</label>
                                    <span id="measurement-arms">-- cm</span>
                                </div>
                                <div class="measurement-item">
                                    <label>Thighs</label>
                                    <span id="measurement-thighs">-- cm</span>
                                </div>
                                <div class="measurement-item">
                                    <label>Neck</label>
                                    <span id="measurement-neck">-- cm</span>
                                </div>
                            </div>
                        </div>


                    </div>

                    <!-- Measurement History -->
                    <div class="measurement-history">
                        <h3>Measurement History</h3>
                        <div class="history-filters">
                            <select id="measurement-filter">
                                <option value="all">All Measurements</option>
                                <option value="weight">Weight Only</option>
                                <option value="body-fat">Body Fat Only</option>
                                <option value="measurements">Body Measurements</option>
                            </select>
                            <select id="time-filter">
                                <option value="30">Last 30 days</option>
                                <option value="90">Last 3 months</option>
                                <option value="180">Last 6 months</option>
                                <option value="365">Last year</option>
                            </select>
                        </div>
                        <div class="measurement-list" id="measurement-list">
                            <!-- Measurement entries will be populated here -->
                        </div>
                    </div>
                </section>
            </div>

            <!-- Goals & Targets Content -->
            <div class="content-area" id="goals-content" style="display: none;">
                <section class="goals-section">
                    <div class="section-header">
                        <h2>Goals & Targets</h2>
                        <button class="btn btn-primary" id="create-goal-btn">
                            <i data-lucide="plus"></i>
                            Create New Goal
                        </button>
                    </div>
                    
                    <div class="goals-grid">
                        <!-- Primary Goals Card -->
                        <div class="goal-card primary-goals">
                            <h3>Primary Goals</h3>
                            <div class="goal-item">
                                <div class="goal-header">
                                    <span class="goal-title">Weight Goal</span>
                                    <span class="goal-status" id="weight-goal-status">Active</span>
                                </div>
                                <div class="goal-progress">
                                    <div class="goal-info">
                                        <span class="current-value" id="current-weight-goal">70 kg</span>
                                        <span class="target-value">â†’ <span id="target-weight-goal">65 kg</span></span>
                                    </div>
                                    <div class="progress-bar-container">
                                        <div class="progress-bar" id="weight-goal-progress"></div>
                                    </div>
                                    <div class="goal-meta">
                                        <span class="progress-text" id="weight-progress-text">2.5 kg to go</span>
                                        <span class="time-remaining" id="weight-time-remaining">12 weeks left</span>
                                    </div>
                                </div>
                            </div>

                            <div class="goal-item">
                                <div class="goal-header">
                                    <span class="goal-title">Body Fat Goal</span>
                                    <span class="goal-status" id="bodyfat-goal-status">Active</span>
                                </div>
                                <div class="goal-progress">
                                    <div class="goal-info">
                                        <span class="current-value" id="current-bodyfat-goal">22%</span>
                                        <span class="target-value">â†’ <span id="target-bodyfat-goal">18%</span></span>
                                    </div>
                                    <div class="progress-bar-container">
                                        <div class="progress-bar" id="bodyfat-goal-progress"></div>
                                    </div>
                                    <div class="goal-meta">
                                        <span class="progress-text" id="bodyfat-progress-text">4% to go</span>
                                        <span class="time-remaining" id="bodyfat-time-remaining">16 weeks left</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Activity Goals Card -->
                        <div class="goal-card activity-goals">
                            <h3>Activity Goals</h3>
                            <div class="activity-grid">
                                <div class="activity-item">
                                    <i data-lucide="footprints"></i>
                                    <div class="activity-content">
                                        <span class="activity-title">Daily Steps</span>
                                        <div class="activity-progress">
                                            <span class="activity-current" id="daily-steps">8,432</span>
                                            <span class="activity-target">/ 10,000</span>
                                        </div>
                                        <div class="activity-bar">
                                            <div class="activity-fill" id="steps-progress"></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="activity-item">
                                    <i data-lucide="flame"></i>
                                    <div class="activity-content">
                                        <span class="activity-title">Calories Burned</span>
                                        <div class="activity-progress">
                                            <span class="activity-current" id="calories-burned">420</span>
                                            <span class="activity-target">/ 500</span>
                                        </div>
                                        <div class="activity-bar">
                                            <div class="activity-fill" id="calories-progress"></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="activity-item">
                                    <i data-lucide="dumbbell"></i>
                                    <div class="activity-content">
                                        <span class="activity-title">Workouts/Week</span>
                                        <div class="activity-progress">
                                            <span class="activity-current" id="weekly-workouts">3</span>
                                            <span class="activity-target">/ 4</span>
                                        </div>
                                        <div class="activity-bar">
                                            <div class="activity-fill" id="workouts-progress"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Nutrition Goals Card -->
                        <div class="goal-card nutrition-goals">
                            <h3>Nutrition Goals</h3>
                            <div class="nutrition-targets">
                                <div class="target-item">
                                    <label>Daily Calories</label>
                                    <div class="target-input">
                                        <input type="number" id="calorie-target" value="2800">
                                        <span class="unit">kcal</span>
                                    </div>
                                </div>
                                <div class="target-item">
                                    <label>Daily Protein</label>
                                    <div class="target-input">
                                        <input type="number" id="protein-target" value="120">
                                        <span class="unit">g</span>
                                    </div>
                                </div>
                                <div class="target-item">
                                    <label>Activity Level</label>
                                    <select id="activity-level">
                                        <option value="sedentary">Sedentary</option>
                                        <option value="light">Light Activity</option>
                                        <option value="moderate">Moderate Activity</option>
                                        <option value="active">Active</option>
                                        <option value="very-active">Very Active</option>
                                    </select>
                                </div>
                                <button class="btn btn-secondary" id="update-nutrition-goals">
                                    <i data-lucide="save"></i>
                                    Update Goals
                                </button>
                            </div>
                        </div>

                        <!-- Goal Timeline Card -->
                        <div class="goal-card timeline-card">
                            <h3>Goal Timeline</h3>
                            <div class="timeline">
                                <div class="timeline-item completed">
                                    <div class="timeline-marker"></div>
                                    <div class="timeline-content">
                                        <h4>Goal Created</h4>
                                        <p>Set target weight to 65kg</p>
                                        <span class="timeline-date">3 months ago</span>
                                    </div>
                                </div>
                                <div class="timeline-item completed">
                                    <div class="timeline-marker"></div>
                                    <div class="timeline-content">
                                        <h4>Milestone 1</h4>
                                        <p>Lost first 2kg</p>
                                        <span class="timeline-date">6 weeks ago</span>
                                    </div>
                                </div>
                                <div class="timeline-item active">
                                    <div class="timeline-marker"></div>
                                    <div class="timeline-content">
                                        <h4>Current Progress</h4>
                                        <p>50% towards goal weight</p>
                                        <span class="timeline-date">Now</span>
                                    </div>
                                </div>
                                <div class="timeline-item">
                                    <div class="timeline-marker"></div>
                                    <div class="timeline-content">
                                        <h4>Target Completion</h4>
                                        <p>Reach 65kg target weight</p>
                                        <span class="timeline-date">In 12 weeks</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Goal Management -->
                    <div class="goal-management">
                        <h3>Manage Goals</h3>
                        <div class="goal-actions">
                            <button class="btn btn-secondary" id="edit-goals-btn">
                                <i data-lucide="edit"></i>
                                Edit Current Goals
                            </button>
                            <button class="btn btn-secondary" id="goal-history-btn">
                                <i data-lucide="history"></i>
                                View Goal History
                            </button>
                            <button class="btn btn-outline" id="reset-goals-btn">
                                <i data-lucide="refresh-cw"></i>
                                Reset Goals
                            </button>
                        </div>
                    </div>
                </section>
            </div>

            <!-- AI Insights Content -->
            <div class="content-area" id="ai-insights-content" style="display: none;">
                <section class="ai-insights-section">
                    <div class="section-header">
                        <h2>AI-Powered Insights</h2>
                        <button class="btn btn-primary" id="refresh-insights-btn">
                            <i data-lucide="refresh-cw"></i>
                            Refresh Insights
                        </button>
                    </div>
                    
                    <div class="insights-grid">
                        <!-- Today's Insights -->
                        <div class="insight-card daily-insights">
                            <div class="insight-header">
                                <h3>Today's Recommendations</h3>
                                <span class="insight-badge">Daily</span>
                            </div>
                            <div class="insight-content" id="daily-insights-content">
                                <div class="loading-insights">
                                    <i data-lucide="brain"></i>
                                    <p>Analyzing your data...</p>
                                </div>
                            </div>
                        </div>

                        <!-- Weekly Analysis -->
                        <div class="insight-card weekly-insights">
                            <div class="insight-header">
                                <h3>Weekly Analysis</h3>
                                <span class="insight-badge">Weekly</span>
                            </div>
                            <div class="insight-content" id="weekly-insights-content">
                                <div class="loading-insights">
                                    <i data-lucide="brain"></i>
                                    <p>Processing weekly patterns...</p>
                                </div>
                            </div>
                        </div>

                        <!-- Monthly Trends -->
                        <div class="insight-card monthly-insights">
                            <div class="insight-header">
                                <h3>Monthly Trends</h3>
                                <span class="insight-badge">Monthly</span>
                            </div>
                            <div class="insight-content" id="monthly-insights-content">
                                <div class="loading-insights">
                                    <i data-lucide="brain"></i>
                                    <p>Evaluating long-term trends...</p>
                                </div>
                            </div>
                        </div>

                        <!-- Personalized Recommendations -->
                        <div class="insight-card recommendations">
                            <div class="insight-header">
                                <h3>Personalized Recommendations</h3>
                                <span class="insight-badge">Based on your goals</span>
                            </div>
                            <div class="recommendation-list" id="recommendations-list">
                                <div class="loading-insights">
                                    <i data-lucide="brain"></i>
                                    <p>Generating recommendations...</p>
                                </div>
                            </div>
                        </div>

                        <!-- Health Score -->
                        <div class="insight-card health-score">
                            <div class="insight-header">
                                <h3>Health Score</h3>
                                <span class="score-value" id="health-score-value">--</span>
                            </div>
                            <div class="score-breakdown">
                                <div class="score-item">
                                    <span class="score-label">Nutrition Balance</span>
                                    <div class="score-bar">
                                        <div class="score-fill" id="nutrition-score"></div>
                                    </div>
                                    <span class="score-number" id="nutrition-score-num">--</span>
                                </div>
                                <div class="score-item">
                                    <span class="score-label">Consistency</span>
                                    <div class="score-bar">
                                        <div class="score-fill" id="consistency-score"></div>
                                    </div>
                                    <span class="score-number" id="consistency-score-num">--</span>
                                </div>
                                <div class="score-item">
                                    <span class="score-label">Goal Progress</span>
                                    <div class="score-bar">
                                        <div class="score-fill" id="progress-score"></div>
                                    </div>
                                    <span class="score-number" id="progress-score-num">--</span>
                                </div>
                            </div>
                        </div>

                        <!-- Food Suggestions -->
                        <div class="insight-card food-suggestions">
                            <div class="insight-header">
                                <h3>Smart Food Suggestions</h3>
                                <span class="insight-badge">AI Recommended</span>
                            </div>
                            <div class="suggestion-categories">
                                <div class="suggestion-category">
                                    <h4>High Protein Foods</h4>
                                    <div class="food-list" id="protein-suggestions">
                                        <!-- Will be populated by AI -->
                                    </div>
                                </div>
                                <div class="suggestion-category">
                                    <h4>Nutrient Dense Options</h4>
                                    <div class="food-list" id="nutrient-suggestions">
                                        <!-- Will be populated by AI -->
                                    </div>
                                </div>
                                <div class="suggestion-category">
                                    <h4>Goal-Aligned Choices</h4>
                                    <div class="food-list" id="goal-suggestions">
                                        <!-- Will be populated by AI -->
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Insight History -->
                    <div class="insight-history">
                        <h3>Insight History</h3>
                        <div class="insight-timeline" id="insight-timeline">
                            <!-- Previous insights will be populated here -->
                        </div>
                    </div>
                </section>
            </div>

            <!-- History Content (hidden by default) -->
            <div class="content-area" id="history-content" style="display: none;">
                <section class="history-section">
                    <h2>Nutrition History</h2>
                    
                    <!-- Year Selector -->
                    <div class="history-nav">
                        <div class="year-selector">
                            <button class="year-nav-btn" id="prev-year">
                                <i data-lucide="chevron-left"></i>
                            </button>
                            <h3 id="current-year">2025</h3>
                            <button class="year-nav-btn" id="next-year">
                                <i data-lucide="chevron-right"></i>
                            </button>
                        </div>
                    </div>

                    <!-- Months Grid -->
                    <div class="months-grid" id="months-grid">
                        <div class="month-card" data-month="0">
                            <h4>January</h4>
                            <div class="month-stats">
                                <span class="month-days" id="jan-days">0 days logged</span>
                                <span class="month-avg" id="jan-avg">0 avg kcal</span>
                            </div>
                        </div>
                        <div class="month-card" data-month="1">
                            <h4>February</h4>
                            <div class="month-stats">
                                <span class="month-days" id="feb-days">0 days logged</span>
                                <span class="month-avg" id="feb-avg">0 avg kcal</span>
                            </div>
                        </div>
                        <div class="month-card" data-month="2">
                            <h4>March</h4>
                            <div class="month-stats">
                                <span class="month-days" id="mar-days">0 days logged</span>
                                <span class="month-avg" id="mar-avg">0 avg kcal</span>
                            </div>
                        </div>
                        <div class="month-card" data-month="3">
                            <h4>April</h4>
                            <div class="month-stats">
                                <span class="month-days" id="apr-days">0 days logged</span>
                                <span class="month-avg" id="apr-avg">0 avg kcal</span>
                            </div>
                        </div>
                        <div class="month-card" data-month="4">
                            <h4>May</h4>
                            <div class="month-stats">
                                <span class="month-days" id="may-days">0 days logged</span>
                                <span class="month-avg" id="may-avg">0 avg kcal</span>
                            </div>
                        </div>
                        <div class="month-card" data-month="5">
                            <h4>June</h4>
                            <div class="month-stats">
                                <span class="month-days" id="jun-days">0 days logged</span>
                                <span class="month-avg" id="jun-avg">0 avg kcal</span>
                            </div>
                        </div>
                        <div class="month-card" data-month="6">
                            <h4>July</h4>
                            <div class="month-stats">
                                <span class="month-days" id="jul-days">0 days logged</span>
                                <span class="month-avg" id="jul-avg">0 avg kcal</span>
                            </div>
                        </div>
                        <div class="month-card" data-month="7">
                            <h4>August</h4>
                            <div class="month-stats">
                                <span class="month-days" id="aug-days">0 days logged</span>
                                <span class="month-avg" id="aug-avg">0 avg kcal</span>
                            </div>
                        </div>
                        <div class="month-card" data-month="8">
                            <h4>September</h4>
                            <div class="month-stats">
                                <span class="month-days" id="sep-days">0 days logged</span>
                                <span class="month-avg" id="sep-avg">0 avg kcal</span>
                            </div>
                        </div>
                        <div class="month-card" data-month="9">
                            <h4>October</h4>
                            <div class="month-stats">
                                <span class="month-days" id="oct-days">0 days logged</span>
                                <span class="month-avg" id="oct-avg">0 avg kcal</span>
                            </div>
                        </div>
                        <div class="month-card" data-month="10">
                            <h4>November</h4>
                            <div class="month-stats">
                                <span class="month-days" id="nov-days">0 days logged</span>
                                <span class="month-avg" id="nov-avg">0 avg kcal</span>
                            </div>
                        </div>
                        <div class="month-card" data-month="11">
                            <h4>December</h4>
                            <div class="month-stats">
                                <span class="month-days" id="dec-days">0 days logged</span>
                                <span class="month-avg" id="dec-avg">0 avg kcal</span>
                            </div>
                        </div>
                    </div>

                    <!-- Weeks Grid (hidden by default) -->
                    <div class="weeks-grid" id="weeks-grid" style="display: none;">
                        <div class="history-breadcrumb">
                            <button class="breadcrumb-btn" id="back-to-months">
                                <i data-lucide="arrow-left"></i>
                                Back to Months
                            </button>
                            <span id="selected-month-year">January 2025</span>
                        </div>
                        <div class="weeks-container" id="weeks-container">
                            <!-- Weeks will be populated dynamically -->
                        </div>
                    </div>

                    <!-- Days Grid (hidden by default) -->
                    <div class="days-grid" id="days-grid" style="display: none;">
                        <div class="history-breadcrumb">
                            <button class="breadcrumb-btn" id="back-to-weeks">
                                <i data-lucide="arrow-left"></i>
                                Back to Weeks
                            </button>
                            <span id="selected-week-range">Week 1, January 2025</span>
                        </div>
                        <div class="days-container" id="days-container">
                            <!-- Days will be populated dynamically -->
                        </div>
                    </div>

                    <!-- Day Detail View (hidden by default) -->
                    <div class="day-detail" id="day-detail" style="display: none;">
                        <div class="history-breadcrumb">
                            <button class="breadcrumb-btn" id="back-to-days">
                                <i data-lucide="arrow-left"></i>
                                Back to Week
                            </button>
                            <span id="selected-day-date">Monday, September 8, 2025</span>
                        </div>
                        <div class="day-summary-card">
                            <h3>Daily Summary</h3>
                            <div class="day-macros">
                                <div class="macro-item">
                                    <span class="macro-value" id="day-calories">0</span>
                                    <span class="macro-label">Calories</span>
                                </div>
                                <div class="macro-item">
                                    <span class="macro-value" id="day-protein">0g</span>
                                    <span class="macro-label">Protein</span>
                                </div>
                                <div class="macro-item">
                                    <span class="macro-value" id="day-carbs">0g</span>
                                    <span class="macro-label">Carbs</span>
                                </div>
                                <div class="macro-item">
                                    <span class="macro-value" id="day-fat">0g</span>
                                    <span class="macro-label">Fat</span>
                                </div>
                            </div>
                            <div class="day-goals-progress">
                                <div class="goal-progress">
                                    <span>Calorie Goal:</span>
                                    <span id="day-calorie-progress">0 / 2000 kcal</span>
                                </div>
                                <div class="goal-progress">
                                    <span>Protein Goal:</span>
                                    <span id="day-protein-progress">0 / 120g</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </div>
    </div>
    </main>
</div>

    <!-- MODAL for Editing Goals -->
    <div id="goal-modal" class="modal-overlay hidden">
        <div class="modal-content">
            <button class="modal-close-btn" data-modal-id="goal-modal"><i data-lucide="x"></i></button>
            <h3>Edit Daily Goals</h3>
            <div class="input-group">
                <label for="calorie-goal">Calories (kcal)</label>
                <input type="number" id="calorie-goal" value="2000">
            </div>
            <div class="input-group">
                <label for="protein-goal">Protein (g)</label>
                <input type="number" id="protein-goal" value="120">
            </div>
            <div class="modal-actions">
                <button id="save-goals-btn" class="btn btn-primary">Save Changes</button>
            </div>
        </div>
    </div>

    <!-- MODAL for Adding Body Measurements -->
    <div id="measurement-modal" class="modal-overlay hidden">
        <div class="modal-content">
            <button class="modal-close-btn" data-modal-id="measurement-modal"><i data-lucide="x"></i></button>
            <h3>Add New Measurement</h3>
            <div class="input-group">
                <label for="modal-weight">Weight (kg)</label>
                <input type="number" id="modal-weight" step="0.1" placeholder="70.5">
            </div>
            <div class="input-group">
                <label for="modal-height">Height (cm)</label>
                <input type="number" id="modal-height" step="0.1" placeholder="175">
            </div>
            <div class="input-group">
                <label for="modal-body-fat">Body Fat % (optional)</label>
                <input type="number" id="modal-body-fat" step="0.1" placeholder="18.5">
            </div>
            <div class="modal-actions">
                <button id="save-measurement-btn" class="btn btn-primary">Save Measurement</button>
            </div>
        </div>
    </div>
    
    <!-- NEW MODAL for Meal Entry -->
    <div id="meal-entry-modal" class="modal-overlay hidden">
        <div class="modal-content">
             <button class="modal-close-btn" data-modal-id="meal-entry-modal"><i data-lucide="x"></i></button>
            <h3 id="meal-entry-title">Add to Your Meal</h3>
            <div id="meal-entry-content">
                <!-- Content will be injected by script.js -->
            </div>
        </div>
    </div>

    <!-- NEW: AUTH MODAL -->
<div id="auth-modal" class="modal-overlay hidden">
    <div class="modal-content">
        <button class="modal-close-btn" data-modal-id="auth-modal"><i data-lucide="x"></i></button>
        <h3 id="auth-title">Sign In</h3>

        <!-- START: Add Google Sign-In Button -->
        <button id="google-signin-btn" class="btn google-signin-btn">
            <svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" class="google-icon"><g><path fill="#EA4335" d="M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"></path><path fill="#4285F4" d="M46.98 24.55c0-1.57-.15-3.09-.42-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"></path><path fill="#FBBC05" d="M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z"></path><path fill="#34A853" d="M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z"></path><path fill="none" d="M0 0h48v48H0z"></path></g></svg>
            <span>Sign In with Google</span>
        </button>
        <div class="divider">OR</div>
        <!-- END: Add Google Sign-In Button -->
        <!-- Sign In Form -->
        <form id="signin-form" class="auth-form">
            <div class="input-group">
                <label for="signin-email">Email</label>
                <input type="email" id="signin-email" required>
            </div>
            <div class="input-group">
                <label for="signin-password">Password</label>
                <input type="password" id="signin-password" required>
            </div>
            <button type="submit" class="btn btn-primary">Sign In</button>
            <p class="auth-switch">Don't have an account? <a href="#" id="show-signup">Sign Up</a></p>
        </form>

        <!-- Sign Up Form (hidden by default) -->
        <form id="signup-form" class="auth-form hidden">
            <div class="input-group">
                <label for="signup-email">Email</label>
                <input type="email" id="signup-email" required>
            </div>
            <div class="input-group">
                <label for="signup-password">Password (6+ characters)</label>
                <input type="password" id="signup-password" required>
            </div>
            <button type="submit" class="btn btn-primary">Sign Up</button>
            <p class="auth-switch">Already have an account? <a href="#" id="show-signin">Sign In</a></p>
        </form>

        <p id="auth-error" class="error-message"></p>
    </div>
</div>
    <canvas id="canvas" style="display: none;"></canvas>
    
    <!-- Firebase SDK and Configuration -->
    <script type="module">
      // Import Firebase modules
      import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
                    import { 
                        getAuth, 
                        signInWithEmailAndPassword, 
                        createUserWithEmailAndPassword, 
                        signOut, 
                        onAuthStateChanged, 
                        GoogleAuthProvider, 
                        signInWithPopup,
                        signInWithRedirect,
                        getRedirectResult,
                        EmailAuthProvider,
                        linkWithCredential
                    } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";
      import { 
        getFirestore, 
        doc, 
        setDoc, 
        getDoc, 
        collection, 
        query, 
        where, 
        orderBy, 
        getDocs,
        serverTimestamp 
      } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";
      import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-analytics.js";

      // Firebase Configuration - defined inline to avoid module import issues
      const firebaseConfig = {
        apiKey: "AIzaSyBXOSq-jG3Na5vevepIKnnSPadixLkE9hA",
        authDomain: "nutritrack-ai-auth.firebaseapp.com",
        projectId: "nutritrack-ai-auth",
        storageBucket: "nutritrack-ai-auth.firebasestorage.app",
        messagingSenderId: "914196028233",
        appId: "1:914196028233:web:93f7f9532002a373519898",
        measurementId: "G-XDTHCXTCKC"
      };

      // Initialize Firebase
      const app = initializeApp(firebaseConfig);
      const auth = getAuth(app);
      const db = getFirestore(app);
      let analytics;
      
      try {
        analytics = getAnalytics(app);
        console.log('âœ… Firebase Analytics initialized');
      } catch (error)
      {
        console.log('âš ï¸ Analytics not available:', error);
      }

      // Make Firebase services available globally for script.js
    window.firebaseAuth = {
    auth,
    signInWithEmailAndPassword,
    createUserWithEmailAndPassword,
    signOut,
    onAuthStateChanged,
    GoogleAuthProvider, 
    signInWithPopup,
    signInWithRedirect,
    getRedirectResult,
    EmailAuthProvider,
    linkWithCredential,
    initialized: true
    };

      window.firebaseDb = {
        db,
        doc,
        setDoc,
        getDoc,
        collection,
        query,
        where,
        orderBy,
        getDocs,
        serverTimestamp,
        initialized: true
      };

      window.firebaseReady = true;
      console.log('âœ… Firebase initialized successfully');

      // Dispatch event to notify that Firebase is ready
      window.dispatchEvent(new CustomEvent('firebaseReady'));
    </script>
    
    <script src="script.js" defer></script>
    <script>
      lucide.createIcons(); // Initialize icons
    </script>
</body>
</html>

